<html>
    <body>
        <div id="map"></div>
    </body>
    <!-- Replace the value of the key parameter with your own API key. -->
    <script async defer src="https://maps.googleapis.com/maps/api/js?&callback=initMap"></script>
    <script>
        var map, infoWindow;

        //-----------------------------------------------------------------------------------


        function initMap() {
            map = new google.maps.Map(document.getElementById('map'), {
                center:{
                    lat: 41.4132, 
                    lng: -82.0738},
                zoom: 15,
                mapTypeId: 'satellite'
            });
        }
        function handleLocationError(browserHasGeolocation, infoWindow, pos) {
            infoWindow.setPosition(pos);
            infoWindow.setContent(browserHasGeolocation ?
                                    'Error: The Geolocation service failed.' :
                                    'Error: Your browser doesn\'t support geolocation.');
            infoWindow.open(map);
        }

        function getUserLocation(gmap) {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function (position) {
                    var point = new google.maps.LatLng(position.coords.latitude,
                        position.coords.longitude);

                    if (typeof getUserLocation.user_marker == 'undefined') {
                        getUserLocation.user_marker = new google.maps.Marker({
                            position:point,
                            map:map
                            //icon:'person.png'
                        });
                        getUserLocation.user_marker_window = new google.maps.InfoWindow({
                            content:'You'
                        });

                        google.maps.event.addListener(getUserLocation.user_marker, 'click', function () {
                            getUserLocation.user_marker_window.open(getUserLocation.user_marker);
                        });
                    }
                    getUserLocation.user_marker.setPosition(point);
                });
            }
        }

        if (navigator.geolocation) {
            getUserLocation(map);
            setInterval(function () {
                getUserLocation(map);
            }, 5000);
        }

    </script>
    <style>
        /* Always set the map height explicitly to define the size of the div
    * element that contains the map. */
    #map {
        height: 100%;
    }
    /* Optional: Makes the sample page fill the window. */
    html, body {
        height: 100%;
        margin: 0;
        padding: 0;
    }
</style>
    
</html>